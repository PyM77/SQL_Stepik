#database #programming 

В запросы с групповыми функциями можно включать условие отбора строк, которое в обычных запросах записывается после `WHERE`. В запросах с групповыми функциями вместо `WHERE` используется ключевое слово `HAVING` , которое размещается после оператора `GROUP BY`.

**Пример**

Найти минимальную и максимальную цену книг всех авторов, общая стоимость книг которых больше 5000.

```SQL
SELECT author, 
	MIN(price) AS Минимальная_цена, 
	MAX(price) AS Максимальная_цена 
FROM book
GROUP BY author
HAVING SUM(price * amount) > 5000;
```


Также в запросах с группировкой можно сортировать данные.

 **Пример**

Найти минимальную и максимальную цену книг всех авторов, общая стоимость книг которых больше 5000. Результат вывести по убыванию минимальной цены.


```SQL
SELECT author, 
	MIN(price) AS Минимальная_цена, 
	MAX(price) AS Максимальная_цена 
FROM book 
GROUP BY author
HAVING SUM(price * amount) > 5000 
ORDER BY Минимальная_цена DESC;

```

