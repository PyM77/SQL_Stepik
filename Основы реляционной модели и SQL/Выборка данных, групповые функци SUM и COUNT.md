#programming #database 

```SQL
SELECT author, sum(amount), count(amount)
FROM book 
GROUP BY author;
```

Получили 3 различные группы:

-   **группа I** объединяет две записи, у которых в столбце `author` значение Булгаков М.А.;
-   **группа II** объединяет три записи, у которых в столбце `author` значение Достоевский Ф.М.;
-   **группа III** объединяет одну запись, у которой в столбце `author` значение Есенин С.А.

Вместо каждой группы в результирующий запрос включается  одна запись. Запись как минимум включает значение столбца, по которому осуществляется группировка (в нашем случае это `author`):


Дальше можно выполнить вычисления над элементами КАЖДОЙ группы в отдельности, например, посчитать общее количество экземпляров книг каждого автора. Для этого используется групповая функция `SUM()`, а в скобках указывается столбец, по которому нужно выполнить суммирование ( в нашем случае `amount`):

Также можно посчитать, сколько записей относится к группе. Для этого используется функция `COUNT()`, в скобках можно указать ЛЮБОЙ столбец из группы, если группа не содержит пустых значений (ниже приведен пример, в котором показано, как работает `COUNT()`, если в группе есть пустые значения):


Посчитать, сколько экземпляров книг каждого автора хранится на складе.

```SQL
SELECT author, SUM(amount) 
FROM book 
GROUP BY author;
```

